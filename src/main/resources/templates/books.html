<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ“š My Books</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
	    body {
	        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	        background: linear-gradient(135deg, #f0fff0, #60a1ff);
	        min-height: 100vh;
	        margin: 0;
	    }
	    .navbar {
	        background: linear-gradient(90deg, #36d1dc, #5b86e5);
	    }
	    .navbar .navbar-brand, .navbar .nav-link {
	        color: white !important;
	        font-weight: 500;
	    }
		
	    .card {
	        border-radius: 10px;
	        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
	        margin-bottom: 20px;
	        transition: transform 0.3s cubic-bezier(.34,1.56,.64,1), box-shadow 0.3s ease;
	    }
	    .card:hover {
	        transform: translateY(-10px);
	        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
	    }
	    .cardimg {
	        border-radius: 5px;
	    }
		.btn-primary {
		            border: none;
		            font-weight: 600;
		            transition: all 0.3s ease;
		            margin-right: 5px;
		        }
				
		        .btn-primary:hover {
		            background: linear-gradient(90deg, #60a1ff, #a8e6cf);
		            transform: scale(1.05);
		        }
		        .btn-success {
		            font-weight: 600;
		        }
	</style>

</head>
<body>

	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg">
	    <div class="container-fluid">
	        <a class="navbar-brand" href="/">ðŸ“š Book Store</a>
	        <div class="collapse navbar-collapse">
	            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
	                <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
	                <li class="nav-item"><a class="nav-link active" href="/myBooks">My Books</a></li>
	                <li class="nav-item"><a class="nav-link" href="/available_books">Available Books</a></li>
	            </ul>

	            <!-- Logout button -->
	            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
	                <li class="nav-item">
	                    <a class="btn btn-outline-light" href="/logout">Logout</a>
	                </li>
	            </ul>
	        </div>
	    </div>
	</nav>

<!-- My Books Section -->
<div class="container mt-5" th:if="${myBooks != null and !myBooks.isEmpty()}">
    <div class="row g-4">
        <div class="col-md-6 col-lg-4" th:each="book : ${myBooks}">
            <div class="card p-3 d-flex flex-row align-items-center">
                
                <!-- Book Image -->
                <div style="width: 100px; margin-right: 15px;">
                    <img th:src="@{/images/{img}(img=${book.image})}" 
                         th:alt="${book.name}" 
                         style="width: 100%; height: 120px; object-fit: cover;">
                </div>

                <!-- Book Details -->
                <div class="card-body p-0" style="flex: 1;">
                    <h5 class="card-title mb-1" th:text="${book.name}">Book Title</h5>
                    <p class="card-text mb-1" th:text="'Author: ' + ${book.author}">Author: John Doe</p>
                    <p class="card-text mb-1" th:text="'Category: ' + ${book.category}">Category: Fiction</p>
                    <p class="card-text mb-2" th:text="'Price: $' + ${book.price}">Price: $15</p>

                    <!-- Remove Book -->
                    <form th:action="@{/userbooks/remove/{id}(id=${book.id})}" method="post">
                        <button type="submit" class="btn btn-danger btn-sm w-100">Remove</button>
						<a th:href="${book.readLink}" target="_blank" class="btn btn-primary mt-2">Read</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Message if user has no books -->
<div class="text-center mt-5" th:if="${myBooks == null or myBooks.isEmpty()}">
    <h4>You have no books yet!</h4>
    <a href="/available_books" class="btn btn-primary mt-3">Browse Books</a>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
